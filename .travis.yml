language: ruby
rvm:
- 2.2
#- 2.1
#- 2.0
- 1.9.3

#cache:
#  directories:
#  - role-tester-ansible-master/.bootci/venv-ansible1.4
#  - role-tester-ansible-master/.bootci/venv-ansible1.4.4
#  - role-tester-ansible-master/.bootci/venv-ansible1.5.4
#  - role-tester-ansible-master/.bootci/venv-ansible1.6.1
#  - role-tester-ansible-master/.bootci/venv-ansible1.7.2
#  - role-tester-ansible-master/.bootci/venv-ansible1.8.4
#  - role-tester-ansible-master/.bootci/venv-ansible1.9.2
#  - role-tester-ansible-master/.bootci/venv-ansible2.0.0.2
#  - role-tester-ansible-master/.bootci/venv-ansible2.1.0.0
#  - role-tester-ansible-master/.bootci/venv-ansible2.5.1
#  - role-tester-ansible-master/vendor/bundle

env:
- DOCKER_IMAGES=centos:7 ANSIBLE_VERSIONS=1.4.4
- DOCKER_IMAGES=centos:7 ANSIBLE_VERSIONS=1.5.4
- DOCKER_IMAGES=centos:7 ANSIBLE_VERSIONS=1.9.2
- DOCKER_IMAGES=centos:7 ANSIBLE_VERSIONS=2.1.0.0
- DOCKER_IMAGES=debian:7 ANSIBLE_VERSIONS=1.4.4
- DOCKER_IMAGES=debian:7 ANSIBLE_VERSIONS=1.5.4
- DOCKER_IMAGES=debian:7 ANSIBLE_VERSIONS=1.9.2
- DOCKER_IMAGES=debian:7 ANSIBLE_VERSIONS=2.1.0.0
- DOCKER_IMAGES=fedora:20 ANSIBLE_VERSIONS=1.4.4
- DOCKER_IMAGES=fedora:20 ANSIBLE_VERSIONS=1.5.4
- DOCKER_IMAGES=fedora:20 ANSIBLE_VERSIONS=1.9.2
- DOCKER_IMAGES=fedora:20 ANSIBLE_VERSIONS=2.1.0.0
- DOCKER_IMAGES=fedora:24 ANSIBLE_VERSIONS=1.4.4
- DOCKER_IMAGES=fedora:24 ANSIBLE_VERSIONS=1.5.4
- DOCKER_IMAGES=fedora:24 ANSIBLE_VERSIONS=1.9.2
- DOCKER_IMAGES=fedora:24 ANSIBLE_VERSIONS=2.1.0.0
- DOCKER_IMAGES=ubuntu:12.04 ANSIBLE_VERSIONS=1.4.4
- DOCKER_IMAGES=ubuntu:12.04 ANSIBLE_VERSIONS=1.5.4
- DOCKER_IMAGES=ubuntu:12.04 ANSIBLE_VERSIONS=1.9.2
- DOCKER_IMAGES=ubuntu:12.04 ANSIBLE_VERSIONS=2.1.0.0
- DOCKER_IMAGES=ubuntu:16.04 ANSIBLE_VERSIONS=1.4.4
- DOCKER_IMAGES=ubuntu:16.04 ANSIBLE_VERSIONS=1.5.4
- DOCKER_IMAGES=ubuntu:16.04 ANSIBLE_VERSIONS=1.9.2
- DOCKER_IMAGES=ubuntu:16.04 ANSIBLE_VERSIONS=2.1.0.0

services:
- docker
script:
  - >
    wget -O- bit.ly/ansibletest | env sh -x

after_failure:
- cat role-tester-ansible-master/.kitchen.yml
- cat role-tester-ansible-master/.kitchen.local.yml
- cat role-tester-ansible-master/.kitchen/logs/*.log | grep -v '^I, '
notifications:
  webhooks: https://galaxy.ansible.com/api/v1/notifications/
  slack:
    secure: Ik1yq73B4KNEJixrNRv45/W/HuFOlGkInlom7ffWR0tV64LItJ+ZsNxauCn2NylzP8ggwfjGYKEez5b8foLSZmLAAZUyKNDZl0024SVqwMTqbFo9vI35mhyUExhIhBvCY/qSTmIri+jWNPcALCApbP3hnuTfwLuBuIxXQMxj0x/TTwyr43odllo3+xiejV+6/GdgvPHlE3H8GR1dLYRG2zym7BnyGeFexH/CKv0xHMORwk9TjkV4Ky9wUIIy2nn/D32Z8zUzeWCoo/xNeenMdrZHwerEuCyWRz5sIymtyavJqMsEkfIzXWPRCKOgg1xp1V0Y6t8LBNaBwAqdE4oQkZaWTJBt6lW0uoPdmYzrJwRdqjzlPg5kSH9L9556+Q5JCTzrOg1HBOZR0oj+DOdJw9iJ5k3Vo3pyGCod24tSfPuQ8A9599ZMV7+n1GGdJtVsj27i5+FOMBHLXOJwcxn0BMMw5/GkiCvGLbNAlMNm9ZCW3oYPZL2p1JR3EJvVTXmtWSV44HSJiqzcg0pza9LIzO0fbmWL4HOhSDFJQwJgtR7SlMaUjv0a1HDBS2FI+xJxFCb0pKzBmwQSs9gSV5XrfV2Pfj4sfz9eyHklCCvPldmX0xuK94+hB5xeXZBJdWhdRJxINFiwBqlRZAxpmfpUfXECN2O00+n8bEX1FMpCzKU=
  email:
    recipients:
      secure: NjniNj6U/NiVmJUEn41UXZp0GbJTfCLtFvwxiOlmWks7+GWyCjAqchBCK0N7YQ0tTjzXVRSTB3X23e6/uSKsYDWr4Ill6fXmT26+LCG33LY8AycqoBvjDcAV9Y4PRYsHuIdDlh3tLpYLIrk0aMhKYFSL/q9FyLWbJ8IUN702BJMn5RDEH5TQn4+PD5/VrcJX3GHTqQBGO3P9m2kwrzB6BH7owQQ6YHGX0r36U0whdQAiIXTo746lvhn8Efa5/sws3LZG5swigK8aRtP9Z9orAjBWIP3pkY3OcoMPB0TMYzEU7/G327dgHYCFT6HixLJlrU52ZpfFHGW8FnxHrGWH5zmLnohQZ9+9OwArWyYMEtOVJYUMeMzbP8NBjUQCWdBzptZlXtNyComjXDz67EiNWAdGPcbtgSknFoKDJUoAlTVhbXCx8ja7n7d9Rq90bUn+AZnIHs1XMrKRmA470q+ZKZBkpXiwM08eyRvJMmGvvKOP/NlUY6BrgOqemQ4VC1dWOnIjJWZkt9QJa8JjYUUuh9iQAphHzvDLq0rYwTeS42qcD9huaGARyvlt5mOSeaYGV1F6Zkyd+7uENI54V/gzjTPUjJ+DSCdP8Mjd8+CExIEzk+GQyYBfh14Qj3/TPR7jLo3m2I70V8dcnsjV9XiPOTt6oky0dA4LOOYQJ14uZEg=
